//
// DEFAULT STYLING IS MOBILE
//
//  Media Queries add styling for larger displays 
//

header#main {
  &.homepage {
    min-height: 372px;
  }
  
  &.expanded {
    &.homepage {
      min-height: 600px;
    }
    
    hgroup {
      nav {
        height: 220px;
      }
    }
    
    ol.nextprev {
      top: 65%;
    }
  }

  position: relative;
  .clearfix;

  h1.logo, nav, article { position: relative; z-index: 10; }

  hgroup {
    position: relative;
    .clearfix;

    h1.logo {
      .pad;
      margin-left:9.5%;
      position:absolute;
      left: -2px;
      z-index:11;
      height: 84px;
    }
    
    p#drop-down-link {
      margin-top: 29px;
      position: relative;
      margin-bottom: 0;
      text-align: right;
      margin-right: 10px;
      float: right;
      z-index: 13;
      
      a {
        display: block;
        height: 41px;
        width: 41px;
      }
    }

    nav {
      height: 0;
      overflow: hidden;
      margin-top: 70px;
            
      ol {
        text-align: left;
        padding: 0.6em 0;
        margin-bottom: 0;
        
        li {
          width: 100%;
          
          a {
            width: 100%;
            padding: 10px 0;
            padding-left: 9.5%;
            display: block;
          }
        }
      }
    }
  }
  
  figure {
    .column(3);
    margin-right: 0;
    position:absolute;
    bottom: 0;
    top: 0;
    right: 0;
    display: none;
    div {
      position:absolute;
      left: 0;
      bottom: 0;
      top: 0;
      right: 0;
      margin-left: -1.5em;
    }
  }
  
  @media screen and (min-width: 400px) {
    
    &.expanded {
      min-height: 372px;
      
      &.homepage {
        min-height: 372px;
      }
      
      hgroup nav {
        height: auto;
      }
      
      ol.nextprev {
        top: 50%;
      }
    }
    hgroup {
      height: 102px;
      
      p#drop-down-link {
        display: none;
      }
      
      nav {
        clear: left;
        position: relative;
        .clearfix;
        display: block;
        top: 69px;
        height: auto;
        margin-top: 0;
        
        ol { 
          .column(11);
          .pull(1);
          text-align: right;
          padding: 0;
          height: 33px;
          
          li { 
            .size(1);
            padding: 0.5em 0;
            display: inline-block;
            float: none;
            width: auto;
            margin: 0;
            
            &:first-child { display: none; }

            a {
              padding: 0.5em;
              display: inline;
            }
            &:last-child a {
              padding-right: 0;
            }
          }
        }
      }
    }
    
    figure {
      display: inline;
    }
  }

  @media screen and (min-width:24em) {
    hgroup nav ol li:first-child { 
      display:inline-block;
    }
  }

  // Move Menu bar up if it can fit to right of logo
  @media screen and (min-width:48em) {
    hgroup { 
      height: 69px;
      nav { 
        top: 36px;
        .push(1);
      }
    }
  }


  article { 
    .column(8);
    .push(1);
  }
  .article-links {
    position: absolute;
    bottom: 1em;
    left: 0;
    z-index: 10;
    .pad;
  }
  ol.links {
    clear:left;
  }
  .nextprev {
    position: absolute;
    top: 50%;
    width: 100%;

    li {
      width: 1.5em;
      position: absolute;
      &.previous {
        left: 0;
      }
      &.next {
        right: 0;
      }
    }
  }
  &.mobile figure div {
    margin-left: -12em;
  }
  @media screen and (min-width: 40em) {
    .nextprev li {
      width: 2em;
      .size(10);
      height: 3em;
      line-height: 3em;
    }
  }
  @media screen and (min-width: 43em) {
    article { .column(4); .push(1); }
    figure { .column(6); margin-right: 0; div { margin-left: -8em; } }
    &.impact-item {
      article { .column(6); .push(1); }
      figure { .column(5); margin-right: 0; }
    }
  }

  @media screen and (min-width:90em) {
    hgroup {
      h1.logo {
        .pad(2);
      }
      nav {
        .push(2);
        ol {
          margin:0;
          width:78%;
        }
      }
    }
    article { .column(3); .push(2); }
    figure { .column(6); margin-right: 0; }
    .article-links { .pad(2); }

    &.impact-item {
      article { .column(6); .push(2); }
      figure { .column(4); margin-right: 0; }
    }
  }
}
